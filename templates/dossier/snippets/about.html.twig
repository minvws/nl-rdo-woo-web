<div class="mt-16">
    <h2 class="woo-h2 woo-h2-spacing">{{ 'About this decision' | trans }}</h2>

    <div class="overflow-x-auto">
        <table class="woo-table">
            <caption class="sr-only">
                {{ 'About this decision' | trans }}
            </caption>
            <tbody>
                <tr>
                    <th class="woo-table-cell-light w-64 min-w-64" scope="row">{{ 'public.decision.decision_made' | trans }}</th>
                    <td class="font-bold min-w-64" data-e2e-name="dossier-metadata-decision">{{ dossier.decision | decision }}</td>
                </tr>
                {% if dossier.decisionDocument.fileInfo.isUploaded | default(false) %}
                <tr>
                    <th class="woo-table-cell-light" scope="row">{{ 'Reasoning for decision' | trans }}</th>
                    <td>
                        <a class="woo-a" data-e2e-name="download-decision-file-link" href="{{ path('app_woodecision_decision_download', { prefix: dossier.documentPrefix, dossierId: dossier.dossierNr }) }}" download>{{ 'Download decision' | trans }}</a> ({{ dossier.decisionDocument.fileInfo.size | size }})
                    </td>
                </tr>
                {% endif %}
                {% if attachments | length > 0 %}
                <tr>
                    <th class="woo-table-cell-light" scope="row">{{ 'public.publications.additional_attachments' | trans }}</th>
                    <td>
                        <ul>
                            {% for attachment in attachments %}
                            <li>
                                <time datetime="{{ attachment.formalDate | date('Y-m-d') }}">{{ attachment.formalDate | format_date('long') }}</time>
                                - <a class="woo-a" href="{{ attachment.detailsUrl }}">{{ attachment.name }}</a> ({{ attachment.mimeType }}, {{ attachment.size | size }})
                            </li>
                            {% endfor %}
                        </ul>
                    </td>
                </tr>
                {% endif %}
                <tr>
                    <th class="woo-table-cell-light" scope="row">{{ 'Responsible(s)' | trans }}</th>
                    <td data-e2e-name="dossier-metadata-responsible">
                        {# Only display the first entries #}
                        {{ dossier.mainDepartment.name }}
                    </td>
                </tr>
                <tr>
                    <th class="woo-table-cell-light" scope="row">{{ 'global.period' | trans }}</th>
                    <td data-e2e-name="dossier-metadata-period">{{ period(dossier.dateFrom, dossier.dateTo) }}</td>
                </tr>
                <tr>
                    <th class="woo-table-cell-light" scope="row">{{ 'Decision date' | trans }}</th>
                    <td data-e2e-name="dossier-metadata-decision-date"><time datetime="{{ dossier.decisionDate | date('Y-m-d') }}">{{ dossier.decisionDate | format_date('long') }}</time></td>
                </tr>
                <tr>
                    <th class="woo-table-cell-light" scope="row">{{ 'public.global.decision_type' | trans }}</th>
                    <td data-e2e-name="dossier-metadata-publication-reason">{{ dossier.publicationReason | trans }}</td>
                </tr>

                <tr>
                    <th class="woo-table-cell-light" scope="row">{{ 'public.publications.scope' | trans }}</th>
                    <td  data-e2e-name="dossier-metadata-size">
                        <span>
                        {% if dossier.counts.hasDocuments %}
                            {{ 'global.number_of_documents' | trans({'count': dossier.counts.documentCount})}}{% if dossier.counts.hasDocuments and dossier.counts.hasPages %},{% endif %}
                        {% endif %}

                        {% if dossier.counts.hasPages %}
                            {{ 'global.number_of_pages' | trans({'count': dossier.counts.pageCount})}}
                        {% endif %}
                        </span>
                        {% if dossier.inventory is not null  %}
                            <a class="woo-a" data-e2e-name="download-inventory-file-link" href="{{ path('app_woodecision_inventory_download', { prefix: dossier.documentPrefix, dossierId: dossier.dossierNr }) }}" download>{{ 'public.publications.inventory_list' | trans }}</a>
                        {% endif %}
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
